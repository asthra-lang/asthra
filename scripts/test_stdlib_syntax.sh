#!/bin/bash\n\n# Test script to verify stdlib files have correct syntax\n# Uses Asthra compiler to check if files parse correctly\n\nset -e\n\nSTDLIB_DIR=\"${1:-stdlib}\"\nCOMPILER=\"./build/asthra\"\nTEST_COUNT=0\nPASS_COUNT=0\n\necho \"üß™ Testing Asthra Standard Library Syntax\"\necho \"==========================================\"\n\n# Check if compiler exists\nif [ ! -f \"$COMPILER\" ]; then\n    echo \"‚ö†Ô∏è  Warning: Asthra compiler not found at $COMPILER\"\n    echo \"   Building compiler...\"\n    make build > /dev/null 2>&1 || {\n        echo \"‚ùå Failed to build compiler\"\n        echo \"   Skipping syntax tests\"\n        exit 0\n    }\nfi\n\n# Test key stdlib files\ntest_files=(\n    \"stdlib/io.asthra\"\n    \"stdlib/string.asthra\"\n    \"stdlib/json.asthra\"\n    \"stdlib/fs.asthra\"\n    \"stdlib/ffi/error.asthra\"\n    \"stdlib/asthra/error.asthra\"\n    \"stdlib/concurrent/channels.asthra\"\n    \"stdlib/concurrent/patterns.asthra\"\n    \"stdlib/crypto.asthra\"\n    \"stdlib/http.asthra\"\n)\n\necho \"Testing key stdlib files for syntax correctness...\"\necho \"\"\n\nfor file in \"${test_files[@]}\"; do\n    if [ -f \"$file\" ]; then\n        echo -n \"Testing $file... \"\n        TEST_COUNT=$((TEST_COUNT + 1))\n        \n        # Test syntax only (parse check)\n        if $COMPILER --syntax-check \"$file\" > /dev/null 2>&1; then\n            echo \"‚úÖ PASS\"\n            PASS_COUNT=$((PASS_COUNT + 1))\n        else\n            echo \"‚ùå FAIL\"\n            echo \"   Syntax error detected in $file\"\n        fi\n    else\n        echo \"‚ö†Ô∏è  File not found: $file\"\n    fi\ndone\n\necho \"\"\necho \"===========================================\"\necho \"üìä Test Results:\"\necho \"   Total files tested: $TEST_COUNT\"\necho \"   Passed: $PASS_COUNT\"\necho \"   Failed: $((TEST_COUNT - PASS_COUNT))\"\necho \"   Success rate: $(echo \"scale=1; $PASS_COUNT * 100 / $TEST_COUNT\" | bc)%\"\n\nif [ $PASS_COUNT -eq $TEST_COUNT ]; then\n    echo \"üéâ SUCCESS: All stdlib files have correct syntax!\"\n    exit 0\nelse\n    echo \"üö® FAILURE: Some stdlib files have syntax errors\"\n    exit 1\nfi" 
